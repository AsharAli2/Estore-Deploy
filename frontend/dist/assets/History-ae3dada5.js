import{e as i,aS as x,j as e,O as r}from"./index-a0742aba.js";import{C as d}from"./Container-ff4e8613.js";import{S as h}from"./Stack-c924da29.js";import{C as u}from"./Card-a183a5d5.js";import{M as n}from"./MenuItem-52d20b9d.js";import"./styled-c0cd9b23.js";import"./Paper-953614ab.js";import"./ListContext-497b62fa.js";function b(){const[s,a]=i.useState([]);let{userName:l}=x();const[c,m]=i.useState(!1),p=async()=>{const o=await(await fetch(`/order/history/${l}`)).json();a(o.history)};return i.useEffect(()=>{p()},[]),setTimeout(()=>{m(!0)},3e3),e.jsx(e.Fragment,{children:e.jsxs(d,{sx:{backgroundColor:"whitesmoke",height:"100%",borderRadius:"30px",paddingBottom:"30px"},children:[e.jsxs("h1",{style:{fontFamily:"monospace",fontSize:"50px",marginBottom:"20px",color:"blue"},children:["Welcome ",s.userName]}),s.products?e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{fontFamily:"sans-serif",marginBottom:"30px"},children:"Your Previously Purchased Items"}),e.jsx(h,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"30px",justifyContent:"center"},children:s.products.map(t=>e.jsx(e.Fragment,{children:e.jsxs(u,{sx:{width:"240px",height:"240px"},children:[e.jsx(n,{sx:{justifyContent:"center"},children:e.jsx(r,{variant:"inherit",noWrap:!0,style:{color:"black",fontFamily:"sans-serif"},children:"Products"})}),t.pname.map(o=>e.jsx(n,{children:e.jsx(r,{variant:"inherit",style:{color:"red"},children:o})})),e.jsxs(r,{variant:"body2",style:{color:"green",fontSize:"15px",paddingLeft:"16px",textAlign:"center",marginBottom:"10px",marginTop:"10px"},children:["Rs.",t.price]}),e.jsx(r,{variant:"body2",style:{color:"green",fontSize:"15px",paddingLeft:"16px",textAlign:"center",marginBottom:"10px"},children:t.date.slice(0,16)})]})}))})]}):e.jsx(e.Fragment,{children:c&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsx("img",{style:{maxHeight:"80vh",maxWidth:"100vw"},src:"https://m.media-amazon.com/images/G/01/cart/empty/kettle-desaturated._CB445243794_.svg",alt:""}),e.jsx("h1",{style:{position:"absolute",fontFamily:"cursive"},children:"Your History is empty"})]})})]})})}export{b as default};
