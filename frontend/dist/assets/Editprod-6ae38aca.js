import{aQ as C,e as a,aS as y,j as t,al as P}from"./index-a0742aba.js";import{C as z}from"./Container-ff4e8613.js";import{T as r}from"./TextField-f192458f.js";import{S as E,A as w}from"./Snackbar-2fdc3aed.js";import"./styled-c0cd9b23.js";import"./useFormControl-f9ec1ac8.js";import"./useTheme-e819c354.js";import"./Backdrop-4925568d.js";import"./utils-d19c3896.js";import"./mergeSlotProps-79a0a00c.js";import"./Portal-4d7aaf2a.js";import"./useSlotProps-84961af7.js";import"./Paper-953614ab.js";import"./Grow-86b456d1.js";import"./ListContext-497b62fa.js";import"./ClickAwayListener-57fab9dc.js";function U(){const m=C(),[T,s]=a.useState(!1),[e,c]=a.useState({}),[h,l]=a.useState({open:!1,vertical:"top",horizontal:"center"}),{vertical:d,horizontal:u,open:f}=h;let{id:p}=y();const g=JSON.parse(localStorage.getItem("token"));a.useState(!1);const v=async()=>{s(!0);const i=await(await fetch(`/products/${p}`)).json();c(i.product),s(!1)},n=o=>{const{value:i,name:S}=o.target;c(()=>({...e,[S]:i}))},x=async()=>{const o={...e};await fetch(`/products/edit/${p}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(o)}),setTimeout(()=>{m("/Admin/Products")},2e3),l({vertical:"bottom",horizontal:"center",open:!0})};a.useEffect(()=>{v()},[]);const j=(o,i)=>{l({open:!1,vertical:"top",horizontal:"center"})};return t.jsx(t.Fragment,{children:t.jsxs(z,{className:"Container",sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:[t.jsx("h1",{style:{fontFamily:"monospace",fontSize:"40px"},children:"Edit Product"}),t.jsx(r,{fullWidth:!0,value:e.name,name:"name",onChange:n,variant:"outlined"}),t.jsx(r,{fullWidth:!0,name:"price",onChange:n,value:e.price,variant:"outlined"}),t.jsx(r,{fullWidth:!0,name:"image",onChange:n,value:e.image,variant:"outlined"}),t.jsx(r,{fullWidth:!0,onChange:n,name:"description",value:e.description,multiline:!0,rows:4,variant:"outlined"}),t.jsx(P,{fullWidth:!0,onClick:x,variant:"contained",children:"Edit Product"}),t.jsx(E,{anchorOrigin:{vertical:d,horizontal:u},open:f,autoHideDuration:2e3,onClose:j,children:t.jsx(w,{severity:"success",variant:"filled",sx:{width:"100%"},children:"Product edited"})},d+u)]})})}export{U as default};
