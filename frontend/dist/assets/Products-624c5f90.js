import{aN as h,aO as u,j as e,aQ as C,e as p,aW as N,O as w,ak as _,al as S}from"./index-a0742aba.js";import{G as r}from"./Grid-253b3381.js";import{I as m}from"./Grow-86b456d1.js";import{D}from"./DataGrid-d8048d6b.js";import"./useTheme-e819c354.js";import"./utils-d19c3896.js";import"./index-a308885b.js";import"./TablePagination-f3899c16.js";import"./TextField-f192458f.js";import"./useFormControl-f9ec1ac8.js";import"./Backdrop-4925568d.js";import"./mergeSlotProps-79a0a00c.js";import"./Portal-4d7aaf2a.js";import"./useSlotProps-84961af7.js";import"./Paper-953614ab.js";import"./ListContext-497b62fa.js";import"./ClickAwayListener-57fab9dc.js";import"./Toolbar-d1aef0aa.js";import"./MenuItem-52d20b9d.js";import"./Popper-1c42d3a7.js";import"./styled-c0cd9b23.js";import"./FormControlLabel-1435dc71.js";import"./Stack-c924da29.js";import"./Skeleton-56bb805a.js";var i={},E=u;Object.defineProperty(i,"__esModule",{value:!0});var c=i.default=void 0,z=E(h()),k=e;c=i.default=(0,z.default)((0,k.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var o={},I=u;Object.defineProperty(o,"__esModule",{value:!0});var x=o.default=void 0,b=I(h()),P=e;x=o.default=(0,b.default)((0,P.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");function re(){const s=C(),d=JSON.parse(localStorage.getItem("token")),[n,l]=p.useState([]),f=async t=>{await fetch(`/products/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${d}`}});const a=n.filter(y=>y._id!==t);l(a)};async function g(){const a=await(await fetch("/Dashboard/Products",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}})).json();l(a.allProducts)}p.useEffect(()=>{g()},[]);const v=[{field:"Image",headerClassName:"super-app-theme--header",headerName:"Image",width:160,renderCell:t=>e.jsx("img",{src:t.value,alt:"",style:{height:"100px",width:"100px"}})},{field:"Name",headerClassName:"super-app-theme--header",headerName:"Name",width:340},{field:"Category",headerClassName:"super-app-theme--header",headerName:"Category",width:180},{field:"Quantity",headerClassName:"super-app-theme--header",headerName:"Quantity",width:160},{field:"Edit",headerClassName:"super-app-theme--header",headerName:"Edit",width:120,renderCell:t=>e.jsx(m,{onClick:()=>s(`/Product/edit/${t.value}`),children:e.jsx(c,{sx:{fontSize:30,color:"green"}})})},{field:"Delete",headerClassName:"super-app-theme--header",headerName:"Delete",width:120,renderCell:t=>e.jsx(m,{onClick:()=>f(t.value),children:e.jsx(x,{sx:{fontSize:30,color:"red"}})})}],j=n.map((t,a)=>({id:a,Image:t.image,Name:t.name,Category:t.Category,Quantity:t.quantity,Edit:t._id,Delete:t._id}));return e.jsx(e.Fragment,{children:e.jsxs(r,{container:!0,spacing:2,sx:{height:"100%",width:"100%",margin:"0px"},children:[e.jsx(r,{item:!0,xs:12,sm:12,md:2,sx:{padding:"0px !important",textAlign:"center",height:{xs:"auto",sm:"auto",md:"100vh"},position:{md:"sticky"},top:{md:"0"},backgroundColor:"#101A32"},children:e.jsx(N,{})}),e.jsxs(r,{item:!0,xs:12,sm:12,md:10,sx:{display:"flex",flexDirection:"column",alignItems:"center",paddingLeft:"0px !important"},children:[e.jsx(w,{variant:"h4",children:"Products Management"}),e.jsxs(_,{sx:{height:"80vh",width:"95%","& .super-app-theme--header":{backgroundColor:"#F4F6F8",color:"black",fontSize:"15px"}},children:[e.jsx("div",{style:{color:"blue",border:"1px solid lightgrey",borderBottom:"none",height:"40px",display:"flex",alignItems:"center",fontFamily:"sans-serif",fontSize:"larger",paddingLeft:"10px"},children:e.jsx(S,{onClick:()=>s("/addproduct"),children:"+ Add Product"})}),e.jsx(D,{rows:j,rowHeight:100,columns:v,initialState:{pagination:{paginationModel:{pageSize:9}}},pageSizeOptions:[9],disableRowSelectionOnClick:!0})]})]})]})})}export{re as default};
