import{aN as j,aO as b,j as e,aQ as P,e as n,ak as u,M as B,b3 as N,aR as T,O as v,al as y,aT as H}from"./index-a0742aba.js";import{M as W,T as U,i as $}from"./TextField-f192458f.js";import{B as q,a as G,D as g,T as F}from"./Toolbar-d1aef0aa.js";import{A as Q}from"./AppBar-a2a0db07.js";import{C as V}from"./Container-ff4e8613.js";import{I as k}from"./Grow-86b456d1.js";import{M as J}from"./MenuItem-52d20b9d.js";import{A as K}from"./Avatar-0002a1d6.js";import{P as X}from"./Paper-953614ab.js";import"./useFormControl-f9ec1ac8.js";import"./useTheme-e819c354.js";import"./Backdrop-4925568d.js";import"./utils-d19c3896.js";import"./mergeSlotProps-79a0a00c.js";import"./Portal-4d7aaf2a.js";import"./useSlotProps-84961af7.js";import"./ListContext-497b62fa.js";import"./Popper-1c42d3a7.js";import"./styled-c0cd9b23.js";var S={},Y=b;Object.defineProperty(S,"__esModule",{value:!0});var R=S.default=void 0,Z=Y(j()),ee=e;R=S.default=(0,Z.default)((0,ee.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var M={},te=b;Object.defineProperty(M,"__esModule",{value:!0});var E=M.default=void 0,re=te(j()),ae=e;E=M.default=(0,re.default)((0,ae.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart");var _={},oe=b;Object.defineProperty(_,"__esModule",{value:!0});var I=_.default=void 0,ne=oe(j()),se=e;I=_.default=(0,ne.default)((0,se.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login");var w={},le=b;Object.defineProperty(w,"__esModule",{value:!0});var L=w.default=void 0,ie=le(j()),ce=e;L=w.default=(0,ie.default)((0,ce.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");const de={position:"absolute",top:"10%",left:"50%",transform:"translate(-50%)",width:"50%",borderRadius:"20px",bgcolor:"background.paper",boxShadow:24,p:4,display:"flex",flexDirection:"column",alignItems:"center"};function xe({open:s,setOpen:d}){const h=P(),[x,C]=n.useState([]),[l,m]=n.useState("");async function a(){const c=await(await fetch("/products/allproducts")).json();C(c.Product)}n.useEffect(()=>{a()},[]);const i=()=>{d(!1)};function f(t){m(t.name),h(`/Product/${t._id}`),d(!1)}return e.jsx(e.Fragment,{children:e.jsx(W,{open:s,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(u,{sx:de,children:[e.jsx(U,{sx:{width:"100%"},id:"outlined-basic",label:"Search the Prdoucts",variant:"outlined",value:l,onChange:t=>m(t.target.value)}),l.length?e.jsx("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:x.length?x.filter(t=>{const c=l.toLocaleLowerCase(),p=t.name.toLocaleLowerCase();return c&&p.startsWith(c)}).map(t=>e.jsx(e.Fragment,{children:e.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%",fontWeight:"600",fontFamily:"sans-serif",height:"50px"},onClick:()=>f(t),children:t.name})})):null}):null]})})})}const pe=B(q)(({theme:s})=>({"& .MuiBadge-badge":{right:-3,top:13,border:`2px solid ${s.palette.background.paper}`,padding:"0 4px"}})),O=["Phone","Laptops","Headphones","Camera","Monitors"];function Ee(){const[s,d]=n.useState(null),[h,x]=n.useState(void 0),[C,l]=n.useState(!1),m=()=>l(!0),a=P(),i=JSON.parse(localStorage.getItem("user"));let f;i&&(f=i.userName);const t=r=>{d(r.currentTarget)},c=r=>{x(r.currentTarget)},p=()=>{d(null)},A=()=>{x(null)},o=N();if(o.pathname==="/Admin/Dashboard"||o.pathname==="/Administrator"||o.pathname==="/Admin/Users"||o.pathname==="/Admin/Products"||o.pathname==="/addproduct"||o.pathname==="/Product/edit/:id"||o.pathname.startsWith("/Product/edit/"))return null;const D=n.useContext(T),{cartitem:z}=D;return e.jsxs(Q,{position:"static",sx:{backgroundColor:"white",boxShadow:"none"},children:[e.jsx(V,{maxWidth:"xl",sx:{padding:"0px !important"},children:e.jsxs(G,{disableGutters:!0,sx:{justifyContent:"space-between"},children:[e.jsx(g,{sx:{display:{xs:"none",md:"flex"}},children:e.jsx(v,{variant:"h5",noWrap:!0,component:"a",onClick:()=>{a("/")},sx:{mr:2,display:{xs:"none",md:"flex"},fontWeight:700,color:"green",textDecoration:"none",cursor:"pointer"},children:"ESTORE"})}),e.jsx(g,{sx:{display:{xs:"flex",md:"none"}},children:e.jsxs(u,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[e.jsx(k,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:t,color:"inherit",children:e.jsx(R,{sx:{color:"black"}})}),e.jsx($,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!s,onClose:p,sx:{display:{xs:"block",md:"none"}},children:O.map(r=>e.jsx(J,{onClick:p,href:"#Choose",children:e.jsx(v,{textAlign:"center",sx:{color:"black"},onClick:()=>a(`/Category/${r}`),children:r})},r))})]})}),e.jsx(g,{sx:{display:{xs:"flex",md:"none"}},children:e.jsx(v,{variant:"h5",noWrap:!0,component:"a",onClick:()=>{a("/")},sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontWeight:700,color:"green",textDecoration:"none",cursor:"pointer"},children:"ESTORE"})}),e.jsx(g,{sx:{display:{xs:"none",md:"flex"}},children:e.jsx(u,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:O.map(r=>e.jsx(y,{onClick:p,sx:{my:2,color:"black",display:"block"},children:e.jsx(v,{textAlign:"center",sx:{color:"black"},onClick:()=>a(`/Category/${r}`),children:r})},r))})}),e.jsx("div",{children:e.jsxs(u,{sx:{flexGrow:0,width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:[o.pathname==="/"?e.jsx(L,{sx:{color:"black",marginRight:"5px"},onClick:m}):null,i?e.jsxs(e.Fragment,{children:[e.jsx(u,{sx:{flexGrow:0},children:e.jsx(F,{title:"Open settings",children:e.jsx(k,{onClick:c,sx:{p:0,width:"40px",height:"40px"},children:e.jsx(K,{sx:{bgcolor:"black"},children:i.userName.toUpperCase()[0]})})})}),e.jsx($,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!h,onClose:A,children:e.jsxs(X,{elevation:0,sx:{width:"150px",textAlign:"center"},children:[e.jsx("div",{style:{marginBottom:"8px"},children:e.jsx(y,{sx:{height:"50px",width:"100px"},variant:"outlined",color:"success",onClick:()=>a(`/UserHistory/${f}`),children:"Purchase History"})}),e.jsx("div",{children:e.jsx(y,{sx:{},variant:"outlined",color:"error",onClick:()=>{localStorage.clear(),a("/")},children:"Logout"})})]})})]}):e.jsx(I,{sx:{color:"black",marginLeft:"0px",cursor:"pointer"},onClick:()=>a("/login")}),e.jsx(H,{to:"/Cart",style:{color:"white"},children:e.jsx(k,{sx:{p:0,marginLeft:"10px"},children:e.jsx(pe,{badgeContent:z.length,sx:{color:"black"},children:e.jsx(E,{})})})})]})})]})}),e.jsx(xe,{open:C,setOpen:l})]})}export{Ee as default};
